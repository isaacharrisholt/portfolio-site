---
import * as fs from 'fs'
import { Code } from 'astro:components'

interface Props {
  file: string
}

const { file } = Astro.props

// Read file
const content = fs.readFileSync(file, 'utf8')
const lang = file.split('.').pop() as Lang

type Lang = Parameters<typeof Code>[0]['lang']
---

<Code code={content} lang={lang} />
